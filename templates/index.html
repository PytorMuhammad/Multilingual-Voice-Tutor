<!DOCTYPE html>
<html>
<head>
    <title>Voice Tutor</title>
    <style>
        .button { padding: 15px 30px; margin: 10px; font-size: 18px; border: none; border-radius: 5px; cursor: pointer; }
        .primary { background: #FF4B4B; color: white; }
        .secondary { background: #262730; color: white; }
    </style>
</head>
<body>
    <h1>üé§ Multilingual Voice Tutor</h1>
    
    <div>
        <input type="file" id="audioFile" accept=".wav,.mp3,.m4a" />
        <br><br>
        <button class="button primary" onclick="previewAudio()">üîä PREVIEW</button>
        <button class="button primary" onclick="processAudio()">‚ö° PROCESS</button>
        <button class="button secondary" onclick="clearAll()">üîÑ CLEAR</button>
    </div>
    
    <div id="audioPreview"></div>
    <div id="results"></div>
    
    <script>
        function previewAudio() {
            const file = document.getElementById('audioFile').files[0];
            if (file) {
                const audio = document.createElement('audio');
                audio.controls = true;
                audio.src = URL.createObjectURL(file);
                document.getElementById('audioPreview').innerHTML = '';
                document.getElementById('audioPreview').appendChild(audio);
            }
        }
        
        function processAudio() {
            const file = document.getElementById('audioFile').files[0];
            if (!file) {
                alert('Please select an audio file first');
                return;
            }
            
            const formData = new FormData();
            formData.append('audio', file);
            
            document.getElementById('results').innerHTML = 'Processing...';
            
            fetch('/process_audio', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                document.getElementById('results').innerHTML = 
                    data.success ? '‚úÖ Processing Complete!' : '‚ùå Error: ' + data.error;
            })
            .catch(error => {
                document.getElementById('results').innerHTML = '‚ùå Error: ' + error;
            });
        }
        
        function clearAll() {
            document.getElementById('audioFile').value = '';
            document.getElementById('audioPreview').innerHTML = '';
            document.getElementById('results').innerHTML = '';
        }
    </script>
</body>
</html>
